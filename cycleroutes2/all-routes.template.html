<div layout-margin layout-gt-xs="row" layout-align-gt-xs="center start" layout-wrap>
  <md-card ng-repeat="route in allRoutesCtrl.routes | orderBy:'-created_at'" layout-gt-xs="column">
    <md-card-header>
      <md-card-header-text>
        <span class="md-title">{{route.name}}</span>
        <span class="md-subhead" ng-if="route.description">{{route.description}}</span>
      </md-card-header-text>
    </md-card-header>
    <md-card-content>
      <div class="stats" layout="row" layout-align="space-between none" layout-wrap>
        <div class="distance">
          <span class="number md-body-2">{{route.distance | numberConversion | number:0}}<span class="units secondary-text">{{route.distance | numberUnits}}</span></span>
          <div class="md-caption hint-text">
            Distance
          </div>
        </div>
        <div class="elevation">
          <span class="number md-body-2">{{route.elevation_gain | number:0}}<span class="units secondary-text">m</span></span>
          <div class="md-caption hint-text">
            Elevation gain
          </div>
        </div>
        <div class="difficulty">
          <span class="md-body-2">{{route.difficulty}}</span>
          <span class="out-of">/</span>
          <span class="md-body-2">10</span>
          <div class="md-caption hint-text">
            Difficulty
          </div>
        </div>
      </div>
    </md-card-content>
    <gpx-on-map gpxfile="route.gpx"></gpx-on-map>

    <md-card-header>
      <md-card-avatar>
        <!-- <md-icon class="md-avatar-icon" md-svg-icon="img/icons/android.svg"></md-icon> -->
        <img class="md-avatar-icon" ng-src="img/pin/{{route.organiser}}.png"></img>
      </md-card-avatar>
      <md-card-header-text>
        <div class="md-title" flex>{{route.organiser | organiserName}}</div>
        <div class="md-subhead">{{route.created_at | date:'dd MMM yyyy'}}</div>
      </md-card-header-text>
      <md-card-icon-actions hide-xs layout-gt-xs="row" flex="none" layout-align-gt-xs="center">
        <md-button class="md-icon-button" aria-label="Favorite">
          <md-icon class="" md-svg-icon="img/icon/download.svg">
            <md-tooltip md-direction="bottom">Download GPX for {{route.name}}</md-tooltip>
          </md-icon>
        </md-button>
      </md-card-icon-actions>
    </md-card-header>
    <!-- <md-card-actions layout="row">
      <md-button class="md-primary" ng-href="{{route.url}}">Full details</md-button>
    </md-card-actions> -->
  </md-card>
</div>

<!-- <pre>{{allRoutesCtrl.routes | json}}</pre> -->
